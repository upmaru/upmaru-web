---
import { getCollection } from "astro:content";
import Main from "../layouts/Main.astro";
import ProductFlow from "../components/ProductFlow";
import { HugeiconsIcon } from "@hugeicons/react";
import {
  ContentWritingIcon,
  Home08Icon,
  Robot01Icon,
} from "@hugeicons/core-free-icons";

import CodeBrackerSquare from "astro-heroicons/outline/CodeBracketSquare.astro";
import Film from "astro-heroicons/outline/Film.astro";

const recentPosts = (
  await getCollection("blog", ({ data }) => import.meta.env.DEV || !data.draft)
)
  .sort((a, b) => b.data.pubDate.getTime() - a.data.pubDate.getTime())
  .slice(0, 3);
---

<Main
  title="Upmaru | AI-Native Full-Stack Company"
  description="Upmaru is the AI stack for builders and creators. Opsmaru powers infrastructure, Kritama powers intelligence, and Memovee demonstrates the application layer."
>
  <section
    class="hero relative isolate overflow-hidden bg-linear-to-b from-primary/10 to-transparent py-16 sm:py-24"
  >
    <div
      class="pointer-events-none absolute inset-x-0 top-2 z-20 flex justify-center px-4 sm:top-3 sm:px-6"
    >
      <div
        role="tablist"
        class="tabs tabs-box pointer-events-auto border border-base-300 bg-base-100/90 shadow-xl backdrop-blur"
      >
        <a role="tab" href="/" class="tab tab-active gap-2">
          <HugeiconsIcon icon={Home08Icon} size={16} strokeWidth={1.8} />
          Home
        </a>
        <a role="tab" href="/blog/" class="tab gap-2">
          <HugeiconsIcon
            icon={ContentWritingIcon}
            size={16}
            strokeWidth={1.8}
          />
          Blog
        </a>
        <a role="tab" href="/llm-tests/" class="tab gap-2">
          <HugeiconsIcon icon={Robot01Icon} size={16} strokeWidth={1.8} />
          LLM Tests
        </a>
      </div>
    </div>
    <div
      aria-hidden="true"
      class="absolute -inset-y-24 right-1/2 -z-10 -mr-96 w-[200%] origin-top-right skew-x-[-45deg] bg-base-100 shadow-xl ring-1 shadow-primary/10 ring-base-300 sm:-mr-80 lg:-mr-96"
    >
    </div>
    <div
      aria-hidden="true"
      class="absolute inset-x-0 bottom-0 -z-10 h-24 bg-linear-to-t from-base-200 to-transparent sm:h-32"
    >
    </div>
    <div class="hero-content pt-24 text-center sm:pt-28">
      <div class="max-w-3xl">
        <div class="mb-6 flex justify-center">
          <a href="/" class="inline-flex">
            <img class="h-14 w-auto" src="/instellar-logo.png" alt="Upmaru" />
          </a>
        </div>
        <h1 class="text-4xl tracking-tight sm:text-6xl">Upmaru</h1>
        <div class="badge badge-primary badge-outline mt-5 p-4 text-sm">
          <span class="font-semibold">AI-native</span>&nbsp;full-stack company
          for builders and creators
        </div>
        <p class="py-6 text-base-content/80 sm:text-lg">
          Upmaru is the AI stack for builders and creators, giving you the
          infrastructure, intelligence, and product layer to launch smarter
          software faster.
        </p>
        <a
          href="https://cal.com/zacksiri/meet-and-greet"
          target="_blank"
          rel="noopener noreferrer"
          class="btn btn-primary"
        >
          Book a Call
        </a>
      </div>
    </div>
  </section>

  <section class="mx-auto max-w-6xl px-4 pb-16 sm:px-6 sm:pb-24">
    <div class="mb-8 flex items-end justify-between gap-4">
      <div>
        <h2 class="text-3xl font-bold sm:text-4xl">Products</h2>
        <p class="mt-2 text-base-content/80">
          Each component solves a different problem in the stack: Opsmaru
          handles infrastructure, Kritama handles intelligence and agentic
          workflows, and Memovee demonstrates the application layer.
        </p>
      </div>
    </div>

    <div class="grid grid-cols-1 gap-6 lg:grid-cols-3">
      <article class="card border border-base-300 bg-base-100 shadow-xl">
        <div class="card-body">
          <div class="flex items-center gap-3">
            <div class="rounded-box bg-primary/10 p-2">
              <CodeBrackerSquare class="h-6 w-6 text-primary" />
            </div>
            <h3 class="card-title text-lg">Opsmaru</h3>
          </div>
          <p class="text-base-content/80">
            Opsmaru helps you setup the platform that enables you to sell
            instances of your web application.
          </p>
          <div class="card-actions justify-end">
            <a
              href="https://opsmaru.com"
              target="_blank"
              rel="noopener noreferrer"
              class="btn btn-primary btn-sm"
            >
              Visit
            </a>
          </div>
        </div>
      </article>

      <article class="card border border-base-300 bg-base-100 shadow-xl">
        <div class="card-body">
          <div class="flex items-center gap-3">
            <div class="rounded-box bg-secondary/10 p-2">
              <svg
                xmlns="http://www.w3.org/2000/svg"
                viewBox="0 0 24 24"
                fill="none"
                stroke="currentColor"
                stroke-width="1.8"
                class="h-6 w-6 text-secondary"
                aria-hidden="true"
              >
                <path
                  d="M12 3a7 7 0 0 0-7 7v8.2a.8.8 0 0 0 1.2.7L9 17.2l3 1.8 3-1.8 2.8 1.7a.8.8 0 0 0 1.2-.7V10a7 7 0 0 0-7-7Z"
                ></path>
                <circle cx="9.5" cy="10.5" r="1"></circle>
                <circle cx="14.5" cy="10.5" r="1"></circle>
                <path d="M10 13.5c.5.4 1.2.7 2 .7s1.5-.3 2-.7"></path>
              </svg>
            </div>
            <h3 class="card-title text-lg">Kritama</h3>
          </div>
          <p class="text-base-content/80">
            Conversational Compute Engine, Build digital assistants that's
            accurate and hallucination free.
          </p>
          <div class="card-actions justify-end">
            <a
              href="https://kritama.com"
              target="_blank"
              rel="noopener noreferrer"
              class="btn btn-primary btn-sm"
            >
              Visit
            </a>
          </div>
        </div>
      </article>

      <article class="card border border-base-300 bg-base-100 shadow-xl">
        <div class="card-body">
          <div class="flex items-center gap-3">
            <div class="rounded-box bg-success/10 p-2">
              <Film class="h-6 w-6 text-success" />
            </div>
            <h3 class="card-title text-lg">Memovee</h3>
          </div>
          <p class="text-base-content/80">
            Memovee is an agentic movie database that understands your taste and
            helps you find the perfect movie in seconds.
          </p>
          <div class="card-actions justify-end">
            <a
              href="https://memovee.com"
              target="_blank"
              rel="noopener noreferrer"
              class="btn btn-primary btn-sm"
            >
              Visit
            </a>
          </div>
        </div>
      </article>
    </div>
  </section>

  <section class="w-full">
    <div class="mx-auto mb-6 max-w-6xl px-4 sm:px-6">
      <h2 class="text-2xl font-bold">How the stack works</h2>
      <p class="mt-2 text-base-content/80">
        Opsmaru spawns a new instance of Kritama, which integrates with the App
        layer.
      </p>
    </div>
    <div class="mx-auto mb-6 max-w-6xl px-4 sm:px-6">
      <div class="rounded-box border border-base-300 bg-base-200 shadow-sm">
        <div
          class="grid grid-cols-3 divide-x divide-base-300 rounded-box overflow-hidden"
        >
          <div class="bg-base-100 p-4 text-center">
            <p class="text-xs uppercase tracking-wide text-base-content/60">
              Infrastructure
            </p>
            <p class="mt-2 font-semibold">Opsmaru</p>
          </div>
          <div class="bg-base-100 p-4 text-center">
            <p class="text-xs uppercase tracking-wide text-base-content/60">
              Intelligence
            </p>
            <p class="mt-2 font-semibold">Kritama instances</p>
          </div>
          <div class="bg-base-100 p-4 text-center">
            <p class="text-xs uppercase tracking-wide text-base-content/60">
              Application
            </p>
            <p class="mt-2 font-semibold">Memovee, Your App</p>
          </div>
        </div>
      </div>
    </div>
    <ProductFlow client:only="react" />
  </section>

  <section
    class="relative isolate overflow-hidden bg-linear-to-b from-primary/10 to-transparent pt-24 pb-32 sm:pt-32 sm:pb-44"
  >
    <div
      aria-hidden="true"
      class="absolute -inset-y-24 left-[64%] -z-10 -ml-96 w-[200%] origin-top-left skew-x-30 bg-base-100 shadow-xl ring-1 shadow-primary/10 ring-base-300 sm:-ml-80 lg:-ml-96"
    >
    </div>
    <div
      aria-hidden="true"
      class="absolute inset-x-0 bottom-0 -z-10 h-24 bg-linear-to-t from-base-200 to-transparent sm:h-32"
    >
    </div>
    <div class="mx-auto max-w-7xl px-6 lg:px-8">
      <div
        class="mx-auto max-w-2xl lg:mx-0 lg:grid lg:max-w-none lg:grid-cols-2 lg:gap-x-16 lg:gap-y-8 xl:grid-cols-1 xl:grid-rows-1 xl:gap-x-8"
      >
        <h2
          class="max-w-2xl text-4xl font-semibold tracking-tight text-balance text-base-content sm:text-6xl lg:col-span-2 xl:col-auto"
        >
          Big changes often start with a few small individuals.
        </h2>
        <div class="mt-6 max-w-xl lg:mt-0 xl:col-end-1 xl:row-start-1">
          <p
            class="text-lg font-medium text-pretty text-base-content/70 sm:text-xl/8"
          >
            Upmaru exists to bring new innovation to the world and to prove that
            life-changing inventions can come from a few focused individuals
            with the audacity to turn their vision into reality.
          </p>
          <p class="mt-6 text-base-content/70">
            History gives us clear examples: Albert Einstein transformed
            physics, Alan Turing laid foundations of modern computing, and
            Nikola Tesla redefined electrical engineering.
          </p>
          <blockquote
            class="mt-6 border-l-2 border-primary pl-4 text-base-content/80 italic"
          >
            "Sometimes it is the people who no one imagines anything of, who do
            the things that no one can imagine."
          </blockquote>
          <p class="mt-2 text-sm text-base-content/60">
            - <em>The Imitation Game</em> (2014), screenplay by Graham Moore
          </p>
          <a
            href="https://cal.com/zacksiri/meet-and-greet"
            target="_blank"
            rel="noopener noreferrer"
            class="btn btn-primary mt-6"
          >
            Book a Call
          </a>
        </div>
        <div
          class="avatar mt-10 sm:mt-16 lg:mt-0 xl:row-span-2 xl:row-end-2 xl:mt-36"
        >
          <div class="w-full max-w-lg rounded-2xl bg-base-200">
            <img
              src="/zack-profile.jpg"
              alt="Founder portrait"
              class="aspect-6/5 w-full object-cover"
            />
          </div>
        </div>
      </div>
    </div>
  </section>

  <section class="mx-auto max-w-6xl px-6 pb-20 sm:pb-28">
    <div class="mb-8 flex items-end justify-between gap-4">
      <div>
        <h2 class="text-3xl font-bold sm:text-4xl">Recent Posts</h2>
        <p class="mt-2 text-base-content/80">
          Read the latest writing from the Upmaru team.
        </p>
      </div>
      <a href="/blog/" class="btn btn-primary btn-sm">View all posts</a>
    </div>

    {
      recentPosts.length > 0 ? (
        <div class="grid grid-cols-1 gap-6 lg:grid-cols-3">
          {recentPosts.map((post) => (
            <article class="rounded-box border border-base-300 bg-base-100 p-5 shadow-sm">
              <p class="text-sm text-base-content/60">
                {post.data.pubDate.toLocaleDateString("en-US", {
                  year: "numeric",
                  month: "long",
                  day: "numeric",
                })}
              </p>
              <h3 class="mt-2 text-xl font-semibold text-primary">
                <a href={`/blog/${post.slug}`} class="hover:underline">
                  {post.data.title}
                </a>
              </h3>
              <p class="mt-2 text-base-content/80">{post.data.description}</p>
              <p class="mt-3 text-sm text-base-content/70">
                By {post.data.author}
              </p>
            </article>
          ))}
        </div>
      ) : (
        <div class="rounded-box border border-dashed border-base-300 bg-base-100 p-6 text-base-content/70">
          No published posts yet. Check back soon.
        </div>
      )
    }
  </section>
</Main>
